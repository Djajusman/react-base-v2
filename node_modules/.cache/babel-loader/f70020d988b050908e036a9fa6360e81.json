{"ast":null,"code":"import _asyncToGenerator from\"D:/Diarium/react-base-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Diarium/react-base-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Diarium\\\\react-base-v2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import\"./post.css\";import{MoreVert}from\"@mui/icons-material\";import axios from\"utils/axios\";// import { format } from \"timeago.js\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Post(_ref){var post=_ref.post;var _useState=useState(post.likes.length),_useState2=_slicedToArray(_useState,2),like=_useState2[0],setLike=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLiked=_useState4[0],setIsliked=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){var fetchUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"users/\".concat(post.userId));case 2:res=_context.sent;setUser(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref2.apply(this,arguments);};}();fetchUser();},[]);var likeHandler=function likeHandler(){setLike(isLiked?like-1:like+1);setIsliked(!isLiked);};return/*#__PURE__*/_jsx(\"div\",{className:\"post\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"post__wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post__top-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.profilePicture||require(\"assets/img/team-2-800x800.jpg\").default,alt:\"\",className:\"post__profile-image\"}),/*#__PURE__*/_jsx(\"span\",{className:\"post__username\",children:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"post__date\",children:post.date})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post__top-right\",children:/*#__PURE__*/_jsx(MoreVert,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"post__text\",children:post===null||post===void 0?void 0:post.desc}),/*#__PURE__*/_jsx(\"img\",{className:\"post__image\",src:post.img,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__buttom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post__buttom-left\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"like__icon\",src:\"/assets/like.png\",onClick:likeHandler,alt:\"\"}),/*#__PURE__*/_jsx(\"img\",{className:\"like__icon\",src:\"/assets/heart.png\",onClick:likeHandler,alt:\"\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"post__like-counter\",children:[like,\" poeples like it !\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post__buttom-right\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"post__comm\",children:[post.comment,\" comments\"]})})]})]})});}export default Post;","map":{"version":3,"sources":["D:/Diarium/react-base-v2/src/components/SocialMedia/post/Post.jsx"],"names":["React","useState","useEffect","MoreVert","axios","Post","post","likes","length","like","setLike","isLiked","setIsliked","user","setUser","fetchUser","get","userId","res","data","likeHandler","profilePicture","require","default","username","date","desc","img","comment"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA;wFAEA,QAASC,CAAAA,IAAT,MAAwB,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CACtB,cAAwBL,QAAQ,CAACK,IAAI,CAACC,KAAL,CAAWC,MAAZ,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAwBX,QAAQ,CAAC,EAAD,CAAhC,yCAAOY,IAAP,eAAaC,OAAb,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,SAAS,2FAAG,iKACEX,CAAAA,KAAK,CAACY,GAAN,iBAAmBV,IAAI,CAACW,MAAxB,EADF,QACVC,GADU,eAEhBJ,OAAO,CAACI,GAAG,CAACC,IAAL,CAAP,CAFgB,sDAAH,kBAATJ,CAAAA,SAAS,2CAAf,CAIAA,SAAS,GACV,CANQ,CAMN,EANM,CAAT,CAQA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBV,OAAO,CAACC,OAAO,CAAGF,IAAI,CAAG,CAAV,CAAcA,IAAI,CAAG,CAA7B,CAAP,CACAG,UAAU,CAAC,CAACD,OAAF,CAAV,CACD,CAHD,CAKA,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YACE,GAAG,CAAEE,IAAI,CAACQ,cAAL,EAAuBC,OAAO,CAAC,+BAAD,CAAP,CAAyCC,OADvE,CAEE,GAAG,CAAC,EAFN,CAGE,SAAS,CAAC,qBAHZ,EADF,cAME,aAAM,SAAS,CAAC,gBAAhB,UAAkCV,IAAI,CAACW,QAAvC,EANF,cAOE,aAAM,SAAS,CAAC,YAAhB,UAA8BlB,IAAI,CAACmB,IAAnC,EAPF,GADF,cAUE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,QAAD,IADF,EAVF,GADF,cAeE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAM,SAAS,CAAC,YAAhB,UAA8BnB,IAA9B,SAA8BA,IAA9B,iBAA8BA,IAAI,CAAEoB,IAApC,EADF,cAEE,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEpB,IAAI,CAACqB,GAAvC,CAA4C,GAAG,CAAC,EAAhD,EAFF,GAfF,cAmBE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,YACE,SAAS,CAAC,YADZ,CAEE,GAAG,CAAC,kBAFN,CAGE,OAAO,CAAEP,WAHX,CAIE,GAAG,CAAC,EAJN,EADF,cAOE,YACE,SAAS,CAAC,YADZ,CAEE,GAAG,CAAC,mBAFN,CAGE,OAAO,CAAEA,WAHX,CAIE,GAAG,CAAC,EAJN,EAPF,cAaE,cAAM,SAAS,CAAC,oBAAhB,WAAsCX,IAAtC,wBAbF,GADF,cAgBE,YAAK,SAAS,CAAC,oBAAf,uBACE,cAAM,SAAS,CAAC,YAAhB,WAA8BH,IAAI,CAACsB,OAAnC,eADF,EAhBF,GAnBF,GADF,EADF,CA4CD,CAED,cAAevB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./post.css\";\r\nimport { MoreVert } from \"@mui/icons-material\";\r\nimport axios from \"utils/axios\";\r\n// import { format } from \"timeago.js\";\r\n\r\nfunction Post({ post }) {\r\n  const [like, setLike] = useState(post.likes.length);\r\n  const [isLiked, setIsliked] = useState(false);\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`users/${post.userId}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const likeHandler = () => {\r\n    setLike(isLiked ? like - 1 : like + 1);\r\n    setIsliked(!isLiked);\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__wrapper\">\r\n        <div className=\"post__top\">\r\n          <div className=\"post__top-left\">\r\n            <img\r\n              src={user.profilePicture || require(\"assets/img/team-2-800x800.jpg\").default}\r\n              alt=\"\"\r\n              className=\"post__profile-image\"\r\n            />\r\n            <span className=\"post__username\">{user.username}</span>\r\n            <span className=\"post__date\">{post.date}</span>\r\n          </div>\r\n          <div className=\"post__top-right\">\r\n            <MoreVert />\r\n          </div>\r\n        </div>\r\n        <div className=\"post__center\">\r\n          <span className=\"post__text\">{post?.desc}</span>\r\n          <img className=\"post__image\" src={post.img} alt=\"\" />\r\n        </div>\r\n        <div className=\"post__buttom\">\r\n          <div className=\"post__buttom-left\">\r\n            <img\r\n              className=\"like__icon\"\r\n              src=\"/assets/like.png\"\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <img\r\n              className=\"like__icon\"\r\n              src=\"/assets/heart.png\"\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <span className=\"post__like-counter\">{like} poeples like it !</span>\r\n          </div>\r\n          <div className=\"post__buttom-right\">\r\n            <span className=\"post__comm\">{post.comment} comments</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}